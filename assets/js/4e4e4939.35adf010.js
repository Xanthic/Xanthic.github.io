"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[660],{9134:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>h,metadata:()=>o,toc:()=>d});var i=n(5893),c=n(1151),r=n(2021),t=n(4563);const h={},s="Spring",o={id:"integration/spring",title:"Spring",description:"added in: Xanthic v0.3.0",source:"@site/versioned_docs/version-0.x/integration/spring.mdx",sourceDirName:"integration",slug:"/integration/spring",permalink:"/integration/spring",draft:!1,unlisted:!1,editUrl:"https://github.com/Xanthic/Xanthic.github.io/tree/main/docs/versioned_docs/version-0.x/integration/spring.mdx",tags:[],version:"0.x",lastUpdatedBy:"iProdigy",lastUpdatedAt:1700973626,formattedLastUpdatedAt:"Nov 26, 2023",frontMatter:{},sidebar:"version-1.x-docs",previous:{title:"Jackson",permalink:"/integration/jackson"}},l={},d=[{value:"Description",id:"description",level:2},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Dynamic",id:"cachemanager-dynamic",level:3},{value:"Configure the <code>XanthicSpringCacheManager</code>",id:"configure-the-xanthicspringcachemanager",level:4},{value:"Manually create a Cache",id:"manually-create-a-cache",level:4},{value:"Dynamic Creation",id:"dynamic-creation",level:4},{value:"Static",id:"cachemanager-static",level:3},{value:"Configure the <code>XanthicSpringCacheManager</code> with explicit cache names",id:"configure-the-xanthicspringcachemanager-with-explicit-cache-names",level:4}];function g(e){const a={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...e.components},{Details:n}=a;return n||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.h1,{id:"spring",children:"Spring"}),"\n",(0,i.jsxs)(a.blockquote,{children:["\n",(0,i.jsx)(a.p,{children:"added in: Xanthic v0.3.0"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"description",children:"Description"}),"\n",(0,i.jsxs)(a.p,{children:["This module provides a integration between Spring's ",(0,i.jsx)(a.a,{href:"https://docs.spring.io/spring-framework/reference/integration/cache.html",children:"Cache Abstraction"})," and Xanthic.\nIt provides a ",(0,i.jsx)(a.a,{href:"https://docs.spring.io/spring-framework/docs/6.1.0/javadoc-api/org/springframework/cache/CacheManager.html",children:(0,i.jsx)(a.code,{children:"CacheManager"})})," implementation to delegate Spring's caching to your ",(0,i.jsx)(a.a,{href:"/provider/",children:"preferred Xanthic cache implementation"}),"."]}),"\n",(0,i.jsx)(a.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(t.JavaDependency,{group:"io.github.xanthic.cache",name:"cache-spring-java17",scope:"implementation"}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:"For SpringBoot 2.x / Spring 5.x, use this dependency instead"}),(0,i.jsx)(t.JavaDependency,{group:"io.github.xanthic.cache",name:"cache-spring",scope:"implementation"})]}),"\n",(0,i.jsxs)(r.Z,{severity:"info",variant:"outlined",children:["Versions are managed by the ",(0,i.jsx)("a",{href:"/getting-started/installation",children:"xanthic-bom"}),"!"]}),"\n",(0,i.jsx)(a.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(a.p,{children:["Configure a ",(0,i.jsx)(a.a,{href:"https://docs.spring.io/spring-framework/docs/6.1.0/javadoc-api/org/springframework/cache/CacheManager.html",children:(0,i.jsx)(a.code,{children:"CacheManager"})})," bean with Xanthic's ",(0,i.jsx)(a.a,{href:"https://javadoc.io/doc/io.github.xanthic.cache/cache-spring-java17/latest/io/github/xanthic/cache/springjdk17/XanthicSpringCacheManager.html",children:(0,i.jsx)(a.code,{children:"XanthicSpringCacheManager"})})," implementation."]}),"\n",(0,i.jsxs)(a.p,{children:["The ",(0,i.jsx)(a.a,{href:"https://javadoc.io/doc/io.github.xanthic.cache/cache-spring-java17/latest/io/github/xanthic/cache/springjdk17/XanthicSpringCacheManager.html",children:(0,i.jsx)(a.code,{children:"XanthicSpringCacheManager"})})," supports the following modes of operation:"]}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#cachemanager-dynamic",children:"Dynamic"}),": Caches are created on demand with the default configuration or can be registered manually."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#cachemanager-static",children:"Static"}),": The manually provided cache names are registered on startup and no further caches can be registered."]}),"\n"]}),"\n",(0,i.jsxs)(r.Z,{severity:"info",variant:"outlined",children:["Please ensure that you have a ",(0,i.jsx)(a.a,{href:"/provider/",children:"backing cache implementation"})," on your classpath for Xanthic to utilize."]}),"\n",(0,i.jsx)(a.h3,{id:"cachemanager-dynamic",children:"Dynamic"}),"\n",(0,i.jsxs)(a.h4,{id:"configure-the-xanthicspringcachemanager",children:["Configure the ",(0,i.jsx)(a.a,{href:"https://javadoc.io/doc/io.github.xanthic.cache/cache-spring-java17/latest/io/github/xanthic/cache/springjdk17/XanthicSpringCacheManager.html",children:(0,i.jsx)(a.code,{children:"XanthicSpringCacheManager"})})]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'@Configuration\n@EnableCaching\npublic class CachingConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        XanthicSpringCacheManager cacheManager = new XanthicSpringCacheManager(spec -> {\n            spec.maxSize(1000L); // customize the settings according to your needs\n        });\n        // you can create caches with custom settings manually, e.g.:\n        cacheManager.registerCache("my-custom-cache", spec -> {\n            spec.maxSize(5000L);\n        });\n        return cacheManager;\n    }\n}\n'})}),"\n",(0,i.jsx)(a.h4,{id:"manually-create-a-cache",children:"Manually create a Cache"}),"\n",(0,i.jsx)(a.p,{children:"The following snippet shows how to manually create a cache with custom settings:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'@Autowired\nprivate XanthicSpringCacheManager cacheManager;\n\npublic void myFunction() {\n    cacheManager.registerCache("small-cache", spec -> {\n        spec.maxSize(10L);\n        spec.expiryType(ExpiryType.POST_ACCESS);\n        spec.expiryTime(Duration.ofSeconds(10));\n    });\n}\n'})}),"\n",(0,i.jsx)(a.h4,{id:"dynamic-creation",children:"Dynamic Creation"}),"\n",(0,i.jsxs)(a.p,{children:["If you refer to a non-existing cache name from the Spring Cache Abstraction, for example the ",(0,i.jsx)(a.code,{children:"@Cacheable"})," annotation, the ",(0,i.jsx)(a.a,{href:"https://javadoc.io/doc/io.github.xanthic.cache/cache-spring-java17/latest/io/github/xanthic/cache/springjdk17/XanthicSpringCacheManager.html",children:(0,i.jsx)(a.code,{children:"XanthicSpringCacheManager"})})," will create a new cache with the default settings provided in the spec."]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'@Cacheable("customer-cache")\npublic Customer getCustomerById(Long id) {\n    // ...\n}\n'})}),"\n",(0,i.jsx)(a.p,{children:"For more information about the Spring Cache Abstraction, please refer to the following resources:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"https://docs.spring.io/spring-framework/reference/integration/cache.html",children:"Spring's documentation"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"https://www.baeldung.com/spring-cache-tutorial",children:'Baeldung\'s "A Guide To Caching in Spring"'})}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"cachemanager-static",children:"Static"}),"\n",(0,i.jsxs)(a.h4,{id:"configure-the-xanthicspringcachemanager-with-explicit-cache-names",children:["Configure the ",(0,i.jsx)(a.a,{href:"https://javadoc.io/doc/io.github.xanthic.cache/cache-spring-java17/latest/io/github/xanthic/cache/springjdk17/XanthicSpringCacheManager.html",children:(0,i.jsx)(a.code,{children:"XanthicSpringCacheManager"})})," with explicit cache names"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-java",children:'@Configuration\n@EnableCaching\npublic class CachingConfig {\n\n    @Bean\n    public CacheManager cacheManager() {\n        XanthicSpringCacheManager cacheManager = new XanthicSpringCacheManager(spec -> {\n            spec.expiryType(ExpiryType.POST_ACCESS);\n            spec.expiryTime(Duration.ofSeconds(15));\n            spec.maxSize(10L);\n        }, Set.of("my-cache-name"));\n        return cacheManager;\n    }\n}\n'})}),"\n",(0,i.jsx)(a.p,{children:"The list of cache names provided in the constructor needs to be exhaustive within static mode, as no further caches can be registered at runtime."})]})}function p(e={}){const{wrapper:a}={...(0,c.a)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}}}]);